@model List<RestauranteView>

@{
    List<CategoriaRestaurante> categorias = ViewData["CATEGORIAS"] as List<CategoriaRestaurante>;
}

<div class="text-center mt-2">
    <h1 class="text-3xl font-bold text-gray-900">Restaurantes</h1>
</div>

<form class="px-6 mt-6" method="post">
    <div class="flex">
        <div class="w-3/4">
            <label class="form-control w-11/12">
                <div class="label">
                    <span class="label-text font-bold">Categoría</span>
                </div>
                <select class="select select-bordered select-primary w-full" name="categoria">
                    <option value="Todas">Todas</option>
                    @foreach (CategoriaRestaurante categoria in categorias)
                    {
                        <option value="@categoria.Nombre">@categoria.Nombre</option>
                    }
                </select>
            </label>
        </div>
        <div class="w-1/4">
            <label class="form-control w-full">
                <div class="label">
                    <span class="label-text font-bold">Valoración (más de)</span>
                </div>
                <div class="rating rating-lg">
                    <input type="radio" name="rating" class="mask mask-star-2 bg-violet-800" value="1" />
                    <input type="radio" name="rating" class="mask mask-star-2 bg-violet-800" checked value="2" />
                    <input type="radio" name="rating" class="mask mask-star-2 bg-violet-800" value="3" />
                    <input type="radio" name="rating" class="mask mask-star-2 bg-violet-800" value="4" />
                    <input type="radio" name="rating" class="mask mask-star-2 bg-violet-800" value="5" />
                </div>
            </label>
        </div>
    </div>
    <div class="flex">
        <div class="w-full">
            <button class="btn btn-primary btn-md w-full mt-6">Filtrar</button>
        </div>
    </div>
</form>

@if (Model.Count() == 0)
{
    <h1 class="text-center mt-10 text-2xl">Restaurantes no encontrados</h1>
}
<div class="flex flex-wrap">
    @foreach (RestauranteView rest in Model)
    {
        <div class="w-1/4 p-6">
            <a asp-controller="Restaurantes" asp-action="Productos" asp-route-id="@rest.IdRestaurante">
                <div class="card card-compact bg-base-100 shadow-xl mb-3">
                    <figure>
                        <img src="https://daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.jpg" alt="Shoes" />
                    </figure>
                    <div class="card-body">
                        <h2 class="card-title">
                            @rest.Nombre
                        </h2>
                        <div class="badge badge-primary">@rest.CategoriaRestaurante</div>
                        <p>@rest.TiempoEntega min</p>
                        <div class="card-actions justify-end">
                            <div class="badge badge-outline">@rest.Valoracion</div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    }
</div>
